---
# yaml-language-server: $schema=https://raw.githubusercontent.com/datreeio/CRDs-catalog/main/resources.teleport.dev/teleportoidcconnector_v3.json
apiVersion: resources.teleport.dev/v3
kind: oidc
metadata:
  name: teleport-oidc
spec:
  client_id: "${TELEPORT_OIDC_CLIENT_ID}"
  client_secret: "${TELEPORT_OIDC_CLIENT_SECRET}"
  issuer_url: https://auth.${SECRET_DOMAIN}/
  redirect_url:
    - https://teleport.${SECRET_DOMAIN}/v1/webapi/oidc/callback
  max_age: 24h
  claims_to_roles:
    - claim: groups
      roles:
        - editor
      value: admin